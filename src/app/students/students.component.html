<div class="studentSection">
  <mat-card class="formCard">
    <form (submit)="saveStudent(submitForm)" #submitForm="ngForm">
      <mat-form-field>
        <input type="text" name="fname" placeholder="Enter First Name" matInput ngModel required>
      </mat-form-field><br>
      <mat-form-field>
        <input type="text" name="lname" placeholder="Enter Last Name" matInput ngModel required>
      </mat-form-field><br>
      <mat-form-field>
        <input type="text" name="email" placeholder="Enter Email" matInput ngModel required>
      </mat-form-field><br>
      <mat-form-field>
        <input type="text" name="grade" placeholder="Enter Grade" matInput ngModel required>
      </mat-form-field>
      <br>
      <button mat-raised-button type="submit" color="accent">Save</button>
    </form>
  </mat-card>


  <div class="tableSection">

    <div class="filtering">
      <div class="byname">
        <mat-form-field>
          <input type="text" placeholder="search by name" matInput [(ngModel)]="searchName">
        </mat-form-field>
        <button mat-raised-button color="primary" (click)="fundByName()">search</button>
      </div>
      <mat-form-field>
        <input type="text" placeholder="search by text" matInput [(ngModel)]="searchText">
      </mat-form-field>

    </div>

    <div class="tables">
      <table  *ngIf="!searchName">
        <thead>
          <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Grade</th>
            <th></th>
            <th></th>
          </tr>
        </thead>
        <tbody *ngFor="let student of students | filter:searchText">
          <tr>
            <td>{{student.fname}}</td>
            <td>{{student.lname}}</td>
            <td>{{student.email}}</td>
            <td>{{student.grade}}</td>
            <td><button mat-raised-button (click)="Update(student._id)">Update</button></td>
            <td><button mat-raised-button color="accent" (click)="Delete(student._id)">Delete</button></td>
          </tr>
        </tbody>
      </table>
      <table  *ngIf="searchName">
        <thead>
          <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Grade</th>
            <th></th>
            <th></th>
          </tr>
        </thead>
        <tbody *ngFor="let student of filterStudent">
          <tr>
            <td>{{student.fname}}</td>
            <td>{{student.lname}}</td>
            <td>{{student.email}}</td>
            <td>{{student.grade}}</td>
            <td><button mat-raised-button (click)="Update(student._id)">Update</button></td>
            <td><button mat-raised-button color="accent" (click)="Delete(student._id)">Delete</button></td>
          </tr>
        </tbody>
      </table>

    </div>


  </div>

</div>

